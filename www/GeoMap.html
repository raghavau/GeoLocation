<!--<html>
    <head>
        <meta charset="utf-8" />
        <meta name="format-detection" content="telephone=no" />
        <meta name="msapplication-tap-highlight" content="no" />
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
        <title>Working Google Maps</title>
        <script type="text/javascript" src="cordova.js"></script>
        <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js"></script>
        <script type="text/javascript">

            // Wait for device API libraries to load
            //
            document.addEventListener("deviceready", onDeviceReady, false);

            // device APIs are available
            //
            function onDeviceReady()
            {
                var options = { frequency: 3000, enableHighAccuracy: true };
                navigator.geolocation.watchPosition(onSuccess, onError); //, options
            }

            // onSuccess Geolocation
            //
            function onSuccess(position)
            {
                var longitude = position.coords.longitude;
                var latitude = position.coords.latitude;
                var latLong = new google.maps.LatLng(latitude, longitude);

                var element = document.getElementById('geolocation');
                element.innerHTML = 'Latitude: ' + latitude + ' ' + 'Longitude: ' + longitude + '<br />';

                var mapOptions = {
                    center: latLong,
                    zoom: 13
                };

                var map = new google.maps.Map(document.getElementById("sample"), mapOptions);

                var marker = new google.maps.Marker({
                    position: latLong,
                    map: map,
                    title: 'my location'
                });
                alert('Success');
            }

            // onError Callback receives a PositionError object
            //
            function onError(error)
            {
                alert('code: ' + error.code + '\n' + 'message: ' + error.message + '\n');
            }

        </script>
    </head>
    <body>
        <p id="geolocation">Finding geolocation...</p><br>
        <div id="sample" style = "width:fill-available; height:fill-available;"></div>
    </body>
</html>-->

<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Geo Location</title>
        <style type="text/css">
            html { height: 100% }
            body { height: 100%; margin: 0; padding: 0 }
            #map-canvas { height: 100% }
        </style>
        <script type="text/javascript" src="cordova.js"></script>
        <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js"></script>
        <script type="text/javascript">
            function onSuccess(position) {
                var element = document.getElementById('geolocation');
                element.innerHTML = 'Latitude: ' + position.coords.latitude + ' Longitude: ' + position.coords.longitude + '<br />' 
                                    + '<hr />' + element.innerHTML;
                var lat=position.coords.latitude;
                var lang=position.coords.longitude;
                var myLatlng = new google.maps.LatLng(lat,lang);
                var mapOptions = {
                    zoom: 15,
                    center: myLatlng
                }
                var map = new google.maps.Map(document.getElementById('map-canvas'), mapOptions);
                var marker = new google.maps.Marker({
                    position: myLatlng,
                    map: map
                });

                var tourplan1 = new google.maps.Polyline({
                    path: [
                       new google.maps.LatLng(14.2599704, 80.113961),
                       new google.maps.LatLng(14.2597923, 80.1143801),
                       new google.maps.LatLng(14.2592744, 80.1142199),
                       new google.maps.LatLng(14.2596435, 80.1126742),
                       new google.maps.LatLng(14.2557162, 80.1110824),
                       new google.maps.LatLng(14.2538178, 80.1173212),
                       new google.maps.LatLng(14.2547797, 80.1176792),
                       new google.maps.LatLng(14.2555303, 80.1178335),
                       new google.maps.LatLng(14.2558111, 80.117865),
                       new google.maps.LatLng(14.2560164, 80.1178643),
                       new google.maps.LatLng(14.256563, 80.1176927),
                       new google.maps.LatLng(14.2573266, 80.1171006),
                       new google.maps.LatLng(14.2579343, 80.1157246),
                       new google.maps.LatLng(14.2579772, 80.1154463),
                       new google.maps.LatLng(14.2583756, 80.1142179),
                       new google.maps.LatLng(14.2590891, 80.1131919),
                       new google.maps.LatLng(14.2590827, 80.1130404),
                       new google.maps.LatLng(14.2589501, 80.1129653),
                       new google.maps.LatLng(14.2555381, 80.1117536)
                    ],

                    strokeColor: "#0000FF",
                    strokeOpacity: 0.6,
                    strokeWeight: 2
                });
                tourplan1.setMap(map);
            }
            function onError(error) {
                alert('code: ' + error.code + '\n' + 'message: ' + error.message + '\n');
            }
            var watchID = navigator.geolocation.watchPosition(onSuccess, onError, {frequency: 3000});
            google.maps.event.addDomListener(window, 'load', onSuccess);
        </script>
    </head>
    <body>
        <div id="geolocation" style="width: max-content; height: 100px; overflow: scroll; background-color: #f9cdcd"></div>
        <div id="map-canvas"></div>
    </body>
</html>